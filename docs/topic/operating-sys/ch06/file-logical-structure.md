# 文件的逻辑结构

## 文件逻辑结构类型

### 按文件是否有结构分类

- 有结构外检
  - 定长记录
  - 变长记录
- 无结构文件

### 按文件是组织方式分类

- 顺序文件
- 索引文件
- 索引顺序文件

## 顺序文件（sequential file）

### 顺序文件的排列方式

- 串结构，按存入时间的先后顺序排序
- 顺序结构，按关键字大小排序

### 记录寻址

- 隐式寻址方式：用指针指向当前记录的首地址加当前记录长度得到的下一记录地址来访问文件
- 显示寻址方式
  - 通过文件记录的位置：对于定长记录文件，每一记录地址都可由第一个记录首地址和记录序号获得
  - 利用关键字：顺序检索记录的关键字来匹配记录

## 索引文件（index file）

### 按关键字建立索引

索引表的表项，除了关键字，还包含指向记录的指针和记录长度。

### 具有多个索引表的索引文件

为了能够按不同的属性来检索一条记录，需要建立多张索引表。

## 索引顺序文件（index sequential file）

记录按关键字的顺序组织，用索引表实现随机访问，增加一溢出文件用于记录新增、删除和修改的记录。

一级索引顺序文件，是将变长记录顺序文件中的所有记录分为若干组，然后为顺序文件建立一张索引表，并为每组中的第一个记录在索引表建立一个索引项。

若顺序文件记录很多，还可建立两级索引顺序文件。

## 直接文件和哈希文件

直接文件，可根据给定的关键字直接获的指定记录的物理地址。

哈希文件是目前最广泛使用的直接文件。

## ChangeLog

> 2018.09.21 初稿