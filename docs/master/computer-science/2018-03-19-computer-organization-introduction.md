### 计算机组成 VS 计算机体系结构

计算机体系结构是指能够被程序员所看到的计算机系统的属性，即**概念性的结构与功能特性**。计算机系统的属性通常指用机器语言编程的程序员（也包括汇编语言程序设计者和汇编程序设计者）所看到的传统机器属性，包括指令集、数据类型、存储寻址技术、I/O 机理等，大都属于抽象的属性。

计算机组成是指如何实现计算机体系结构所体现的属性，包括许多对程序员来说是透明的硬件细节。例如，“指令系统体现了机器的属性”属于结构问题，但"指令的实现，即如何取指令、分析指令、取操作数、运算、送结果等"属于计算机组成问题。因此指令系统相同的两台计算机也可能有不同的组成方式。

### 高级语言、汇编语言、机器语言

机器语言：机器语言（machine language）指机器指令（一台计算机能够正确执行的命令）的集合，是 CPU 能够直接解读的数据。电子计算机的机器指令是一列二进制数字。

汇编语言：汇编语言（assembly language）是用于电子计算机、微处理器、微控制器以其其他可编程器件的低级语言。在汇编语言中，用助记符（Mnemonics）代替机器指令的操作码，用地址符号（Symbol）或标号（Label）代替指令或操作数的地址。在不同的设备中，汇编语言对应着不同的机器语言指令集，通过汇编过程转换成机器指令。[汇编语言（面向机器的程序设计语言）_百度百科](https://baike.baidu.com/item/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/61826?fr=aladdin)

高级语言：高级语言（High-level programming language）是相对于低级语言而言的高度封装了的编程语言，不依赖于硬件体系。

### 系统复杂性管理的方法

* 层次化（hierarchy）：将被设计的系统分为多个模块或子模块。
* 模块化（modularity）：模块有明确定义的功能和接口。
* 规则性（regularity）：模块更容易被重用。

### 冯诺依曼计算机

冯诺依曼计算机是指计算机内部的存储器存放程序的计算机范式。有如下特点：

* 计算机有**运算器、存储器、控制器、输入设备和输出**设备五大部件组成。
* 指令与数据以**同等**的地位存放于存储器中，并可按地址寻访。
* 指令和数据均用二进制表示。
* 指令由操作码和地址码组成，操作码用来表示操作的性质，地址码用来表示操作数在存储器中的位置。
* 指令在存储器内按顺序存放。
* 机器以运算器为中心，输入输出设备和存储器间的数据传送通过运算器完成。

### 现代计算机结构

![](http://oohkn7mnd.bkt.clouddn.com/IMG_0239.JPG?imageView/2/w/450/q/90)

现代计算机已转化为以存储器为中心。大规模集成电路制作工艺出现后，在逻辑关系和电路结构上联系紧密的运算器和控制器被合并成**中央处理器**（Central Processing Unit，CPU），其中用来完成逻辑运算的**算术逻辑单元**（Arithmetic Logic Unit，ALU）和用来解释存储器中指令并发出各种操作命令来执行指令的**控制单元**（Control Unit， CU）是 CPU 的核心部件。输入输出设备合称 I/O 设备。由此现代计算机可认为由 CPU、I/O、和主存储器（Main Memory，MM）组成。

### 计算过程

![](http://oohkn7mnd.bkt.clouddn.com/IMG_0240.JPG?imageView/2/w/450/q/90)

#### 主存储器

存储体 M 是由许多**存储单元**组成，每个存储单元又包含若干个**存储原件**（或称存储元、存储基元），每个存储原件能寄存一位二进制代码（1或0）。一个存储单元存储的一串二进制代码称为一个**存储字**，该串二进制代码的位数称为**存储字长**。

主存的工作方式是按存储单元的地址号来实现对存储字各位的存取，即按地址访问存储器（访存）。实现这一功能还需**存储器地址寄存器**（Memory Address Register，MAR）用来存放欲访问的存储单元地址（其位数对应存储单元个数，k 位对应 $2^k$ 个存储单元），和**存储器数据寄存器**（Memory Data Register，MDR）用来存放从存储体某单元取出的代码（其内容是指令或数据）或准备往某存储单元存入的代码（其位数与存储字长相等）。

#### 运算器

运算器最少包含三个寄存器和一个算术逻辑单元（ALU），其中 ACC（Accumulator）为**累加器**，MQ（Multiplier-Quotient Register）为**乘商寄存器**，X 为**操作数寄存器**。

一种存放各类数如下：

|      | 加法 | 减法 | 乘法 | 除法 |
| :----: | :--: | :--: | :--: | :--: |
| ACC | 被加数、和 | 被减数、差 | 乘积高位 | 被除数、余数 |
| MQ |      |      | 乘数、乘积低位 | 商 |
| X | 加数 | 减数 | 被乘数 | 除数 |

乘法操作过程为：

[M]->MQ;

[ACC]->X;

0->ACC;

[X] x [MQ]->ACC//MQ //表示两个寄存器串接

#### 控制器

控制器主要由三个部件组成：

1. **程序计数器（**Program Counter，PC）用来存放当前欲执行指令的地址，与 MAR 之间有一条直接通路，且具有加 1 功能（即自动执行下一条指令）；
2. **指令寄存器**（Instruction Register，IR）用来存放当前指令，其内容来自 MAR。IR 中操作码（OP（IR））送至 CU，记作OP（IR）->CU；地址码（Ad（IR））作为操作数地址送至 MAR，记作Ad（IR）->MAR。
3. **控制单元**（CU）用来分析当前指令所需完成的操作，并发出各种微操作指令序列。

完成一条指令的操作一般分为取指、分析和执行三阶段，流程如下：

1. 取指令：PC->MAR->M->MDR->IR
2. 分析指令：OP(IR)->CU
3. 执行指令：Ad(IR)->MAR->M->MDR->ACC/MQ/X，ACC/MQ->ALU同时 X->ALU，ALU->ACC/MQ/ACC//MQ
4. 完成指令后，为取下一条指令准备：(PC)+1->PC

### 机器字长、存储字长、指令字长

机器字长：CPU 一次能处理数据的位数，通常与 CPU 寄存器位数有关。

存储字长：一个存储单元存储的一串二进制代码的位数。

指令字长：机器指令二进制代码的总位数，取决于操作码长度、操作数地址长度和操作数位数，不同指令指令字长不同。

### 存储容量

存储容量 = 存储单元个数 x 存储字长 = $2^{MAR} \times MDR$ 位 = $2^{MAR-3} \times MDR \space B$

### 运算速度

吉普森：不同指令执行时间的加权平均

现代机器的运算速度普遍采用单位时间内执行指令的平均条数来衡量，并用 MIPS（Million Instruction Per Second）为单位。也用执行一条指令所需的时间周期（机器主频的倒数） CPI（Cycle Per Instruction）和每秒浮点运算次数 FLOPS （Floating Point Operation Per Second）。

### 计算机发展史

| 阶段 | 时间  |            硬件技术            | 速度（次/s） |     语言     |
| :--: | :---: | :----------------------------: | :----------: | :----------: |
|  1   | 46-57 |     电子管：运算和逻辑元件     |    40 000    |  机器、汇编  |
|  2   | 58-64 |     晶体管：运算和逻辑元件     |    2*10^5    | 高级 FORTRAN |
|  3   | 65-71 | 中小规模集成电路、半导体存储器 |     10^6     |   操作系统   |
|  4   | 72-77 |         大规模集成电路         |     10^7     |              |
|  5   |  78-  |        超大规模集成电路        |     10^8     |              |

